<!DOCTYPE html>
<html lang="en">
    <head>
        <title>HTHM Exhibition Site 2020</title>

        <link rel="stylesheet" href="stylesheets/style.css">
        <link rel="stylesheet" href="stylesheets/slides.css">
        <link rel="stylesheet" href="stylesheets/constants.css">
        <link rel="stylesheet" href="stylesheets/bmeasurespage.css" id="bm">
        <link rel="stylesheet" href="stylesheets/jworkspage.css" id="jw">
        <link rel="stylesheet" href="stylesheets/mainpage.css" id="mp">
        <link rel="stylesheet" href="stylesheets/ochemspage.css" id="oc">

        <script type="text/javascript" src="data/ballotmeasures.js"></script>
        <script type="text/javascript" src="js/db.js"></script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/vuex/3.1.1/vuex.min.js"></script>
        <script>
            // Gets id from the url to check which stylesheet to use
            function getIDfromURL(){
                var url = $(location).attr('href');
                return url.split("#")[1];
            }

            // Disables all of the mini html page's css
            function noExtraPages() {
                $('#bm').attr("disabled", "disabled")
                $("#jw").attr("disabled", "disabled");
                $("#mp").attr("disabled", "disabled");
                $("#oc").attr("disabled", "disabled");

                var id = getIDfromURL();
                switch(id) {
                    case "ochems":
                        $("#oc").removeAttr("disabled");
                        break;
                    case "jworks":
                        $("#jw").removeAttr("disabled");
                        break;
                    case "bmeasures":
                        $("#bm").removeAttr("disabled");
                        break;
                    default:
                        $("#mp").removeAttr("disabled");
                        break;
                }
            }

            // Setup all the mini pages html
            $(document).ready(function() {
                // Load in the page files
                // Helps to keep the html simple and separated
                $(".navbar").load("./include/sections/navigation.html");
                $("#mainpage").load("./include/mainpage.html");
                $("#bmeasurespage").load("./include/bmeasurespage.html", "", test());
                $("#ochemspage").load("./include/ochemspage.html");
                $("#jworkspage").load("./include/jworkspage.html");

                noExtraPages(); 
            });

            // On id change, change the stylesheet
            $(window).on('hashchange', function(e){
                noExtraPages();
            });
        </script>
    </head>

    <!--
        HTML Elements are rendered in through the JS and outputed here
    -->

    <body>
        <div class="slider">
            <div class="slides">
              <div id="main">
                  <div class="navbar"></div>
                  <div id="mainpage"></div>
              </div>
              <div id="bmeasures">
                <div class="navbar"></div>
                <div id="bmeasurespage"></div>
              </div>
              <div id="ochems">
                <div class="navbar"></div>
                <div id="ochemspage"></div>
              </div>
              <div id="jworks">
                <div class="navbar"></div>
                <div id="jworkspage"></div>
              </div>
            </div>
        </div>
    </body>
</html>
